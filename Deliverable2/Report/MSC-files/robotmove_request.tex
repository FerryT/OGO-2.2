\begin{msc}
msc
{

d [label="Board"],
c [label="Controller"],
a [label="Robot"],
r [label="Rule"];

d box d [label=""],
c box c [label=""],
a box a [label=""],
r box r [label=""];

|||;

a => c [label="moveRequest(localCoords, robot)"];
c => d [label="moveRequest(localCoords, robot)"];
d => r [label="getPossibleMoves()"];
d << r [label="list of possible moves"];
d => r [label="getPossibleRotations()"];
d << r [label="list of possible rotations"];
d box d [label="canPlaceRobot(localCoords, robot)"];

|||;

a box a [label="", textbgcolor="black"],
c box c [label="", textbgcolor="black"],
d box d [label="", textbgcolor="black"],
r box r [label="", textbgcolor="black"];

}
\end{msc}
\digraph[scale=0.5]{HMSC_req}{
rankdir=LR;
p2 [label="",shape="point"];
p3 [label="",shape="point"];
p4 [label="",shape="point"];
mvreq [label="Robot move request",shape="Mrecord",style=filled];
mvrej [label="Reject move",shape="Mrecord"];
retnt [label="Return Normal tile",shape="Mrecord"];
retht [label="Return Hint tile",shape="Mrecord"];
retct [label="Return Conveyor tile",shape="Mrecord"];
retmt [label="Return Home tile",shape="Mrecord"];
init->p2;
p2->mvreq;
mvreq->p3;
p3->mvrej;
mvrej->p2;
p3->p4;
p4->retnt;
p4->retht;
p4->retct;
p4->retmt;
}
