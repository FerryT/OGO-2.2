\digraph[scale=0.5]{HMSC}{
begin2 [label="",shape="invtriangle"];
end2 [label="",shape="triangle"];
initview [label="Initialize viewer"];
updateview [label="Update viewer"];
begin2->initview;
initview->updateview;
updateview->updateview;
updateview->end2;
begin [label="",shape="invtriangle"];
end [label="",shape="triangle"];
p1 [label="",shape="point"];
p2 [label="",shape="point"];
p3 [label="",shape="point"];
p4 [label="",shape="point"];
p5 [label="",shape="point"];
p6 [label="",shape="point"];
p7 [label="",shape="point"];
p8 [label="",shape="point"];
init [label="Initialize",shape="Mrecord"];
mvreq [label="Robot move request",shape="Mrecord"];
mvrej [label="Reject move",shape="Mrecord"];
retnt [label="Return Normal tile",shape="Mrecord"];
retht [label="Return Hint tile",shape="Mrecord"];
retct [label="Return Conveyor tile",shape="Mrecord"];
retmt [label="Return Home tile",shape="Mrecord"];
ordex [label="Ordinary exchange",shape="Mrecord"];
spcex [label="Special exchange",shape="Mrecord"];
endgame [label="End game",shape="Mrecord"];
begin->p1;
p1->init;
init->p2;
p2->mvreq;
mvreq->p3;
p3->mvrej;
mvrej->p2;
p3->p4;
p4->retnt;
p4->retht;
p4->retct;
p4->retmt;
retnt->p5;
retht->p5;
retct->p5;
p5->p6;
p6->ordex;
p6->spcex;
ordex->p7;
spcex->p7;
p7->p2;
retmt->endgame;
endgame->p8;
p8->p1;
p8->end;
}
